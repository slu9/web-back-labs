{% extends "base.html" %}
{% block lab %}Лабораторная работа 3{% endblock %}

{% block main %}
<h1>Железнодорожный билет — оформление</h1>

<form method="get" action="{{ url_for('lab3.ticket_result') }}">
  <div>
    <label>ФИО пассажира</label><br>
    <input type="text" name="fio" value="{{ data.fio or '' }}">
    <span class="error">{{ errors.fio }}</span>
  </div>

  <div style="margin-top:8px">
    <label>Полка</label><br>
    <select name="shelf">
      <option value="" disabled selected hidden>выберите полку</option>
      <option value="lower"      {{ 'selected' if data.shelf=='lower' }}>нижняя</option>
      <option value="upper"      {{ 'selected' if data.shelf=='upper' }}>верхняя</option>
      <option value="upper_side" {{ 'selected' if data.shelf=='upper_side' }}>верхняя боковая</option>
      <option value="lower_side" {{ 'selected' if data.shelf=='lower_side' }}>нижняя боковая</option>
    </select>
    <span class="error">{{ errors.shelf }}</span>
  </div>

  <div style="margin-top:8px">
    <label>С бельём?</label><br>
    <label><input type="radio" name="linen" value="yes" {{ 'checked' if data.linen=='yes' }}> да</label>
    <label><input type="radio" name="linen" value="no"  {{ 'checked' if data.linen=='no'  }}> нет</label>
    <span class="error">{{ errors.linen }}</span>
  </div>

  <div style="margin-top:8px">
    <label>С багажом?</label><br>
    <label><input type="radio" name="baggage" value="yes" {{ 'checked' if data.baggage=='yes' }}> да</label>
    <label><input type="radio" name="baggage" value="no"  {{ 'checked' if data.baggage=='no'  }}> нет</label>
    <span class="error">{{ errors.baggage }}</span>
  </div>

  <div style="margin-top:8px">
    <label>Возраст</label><br>
    <input type="number" name="age" min="1" max="120" value="{{ data.age or '' }}">
    <span class="error">{{ errors.age }}</span>
  </div>

  <div style="margin-top:8px">
    <label>Пункт выезда</label><br>
    <input type="text" name="from_city" value="{{ data.from_city or '' }}">
    <span class="error">{{ errors.from_city }}</span>
  </div>

  <div style="margin-top:8px">
    <label>Пункт назначения</label><br>
    <input type="text" name="to_city" value="{{ data.to_city or '' }}">
    <span class="error">{{ errors.to_city }}</span>
  </div>

  <div style="margin-top:8px">
    <label>Дата поездки</label><br>
    <input type="date" name="date" value="{{ data.date or '' }}">
    <span class="error">{{ errors.date }}</span>
  </div>

  <div style="margin-top:8px">
    <label>Нужна страховка?</label><br>
    <label><input type="radio" name="insurance" value="yes" {{ 'checked' if data.insurance=='yes' }}> да</label>
    <label><input type="radio" name="insurance" value="no"  {{ 'checked' if data.insurance=='no'  }}> нет</label>
    <span class="error">{{ errors.insurance }}</span>
  </div>

  <div style="margin-top:12px">
    <button type="submit">Сформировать билет</button>
  </div>
</form>
{% endblock %}
